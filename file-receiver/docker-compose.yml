version: "3.8"

services:
  file-receiver:
    container_name: file-receiver
    build: .
    ports:
      - "8080:8080"
    environment:
      - FINAL_DIR=/data/final
      - STAGING_DIR=/data/staging
      - MANIFEST_DIR=/data/manifests
      - LOG_PATH=/data/manifests/uploads.log
      - STAGING_TTL_HOURS=48
    volumes:
      - ./staging:/data/staging
      - ./manifests:/data/manifests
      - /path/to/openlist/storage:/data/final
    restart: always
